{% extends 'base.html'%}
{% load static %}

{%block content%}


<section class="section-content padding-y bg">
	<div class="container">

		<!-- ============================ COMPONENT 1 ================================= -->

		<div class="row">
			<aside class="col-lg-6">
				<div class="card">
					<div class="card-body">
						<h4 class="card-title mb-4">FAKTURAČNÉ ÚDAJE</h4>
						<form action="{% url 'place_order'%}" method="POST">
							{% csrf_token %}
							<div class='form-row'>
								<div class="col form-group">
									<label for="">Krstné meno</label>
									<input type="text" name="first_name" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
								<div class="col form-group">
									<label for="">Priezvisko</label>
									<input type="text" name="last_name" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
							</div>
							<div class='form-row'>
								<div class="col form-group">
									<label for="">Názov spoločnosti (voliteľné)</label>
									<input type="text" name="organization" class="form-control" />

								</div>

							</div>
							<div class='form-row'>
								<div class="col form-group">
									<label for="">IČO (voliteľné)</label>
									<input type="text" name="ico" class="form-control" />

								</div>
								<div class="col form-group">
									<label for="">DIČ (voliteľné)</label>
									<input type="text" name="dic" class="form-control" />

								</div>
							</div>

							<div class='form-row'>
								<div class="col form-group">
									<label for="">E-mailová adresa </label>
									<input type="email" name="email" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
								<div class="col form-group">
									<label for="">Telefón</label>
									<input type="text" name="phone" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
							</div>
							<div class='form-row'>
								<div class="col form-group">
									<label for="">Ulica</label>
									<input type="text" name="address_line_1" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
							</div>
							<div class='form-row'>

								<div class="col form-group">
									<label for="">Číslo</label>
									<input type="text" name="address_line_2" class="form-control" />

								</div>
								<div class="col form-group">
									<label for="">PSČ</label>
									<input type="text" name="post_code" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
							</div>
							<div class='form-row'>
								<div class="col form-group">
									<label for="">Mesto</label>
									<input type="text" name="city" class="form-control" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required />

								</div>
								<div class="col form-group">
									<label for="">Krajina</label>
									<select class="form-control selectpicker" name="country" oninvalid="this.setCustomValidity('Prosím vyplňte toto pole')"
 oninput="setCustomValidity('')" required>
										<option value="Slovensko" selected="selected">Slovensko</option>
										<option value="Česká Republika">Česká republika</option>
									</select>
								</div>
							</div>
							<div class='form-row'>
								<div class="form-check mb-3">
									<input type="checkbox" onclick="ChangeShip()" data-toggle="collapse" href="#moreabout" class="form-check-input" aria-expanded="false" aria-controls="moreabout" class="form-control" id="chShipAdd" name="chShipAdd" value="no">
									<label class="col-md-12 control-label" for="chShipAdd">Odoslať na inú adresu?</label>
								</div>
							</div>

							<div id="shipadddiv">
								<div class="collapse" id="moreabout">
									<div class='form-row'>
										<div class="col form-group">
											<label for="">Krstné meno</label>
											<input type="text" name="post_first_name" class="form-control"  />

										</div>
										<div class="col form-group">
											<label for="">Priezvisko</label>
											<input type="text" name="post_last_name" class="form-control"  />

										</div>
									</div>
									<div class='form-row'>
										<div class="col form-group">
											<label for="">Názov spoločnosti (voliteľné)</label>
											<input type="text" name="post_organization" class="form-control" />

										</div>
										<div class='form-row'>
											<div class="col form-group">
												<label for="">Ulica</label>
												<input type="text" name="post_address_line_1" class="form-control" />

											</div>
										</div>
										<div class='form-row'>

											<div class="col form-group">
												<label for="">číslo</label>
												<input type="text" name="post_address_line_2" class="form-control" />

											</div>
											<div class="col form-group">
												<label for="">PSČ</label>
												<input type="text" name="post_post_code" class="form-control" />

											</div>
										</div>
										<div class='form-row'>
											<div class="col form-group">
												<label for="">Mesto</label>
												<input type="text" name="post_city" class="form-control" />

											</div>
											<div class="col form-group">
												<label for="">Krajina</label>
												<select class="form-control selectpicker" name="post_country" >
													<option value="" selected="selected"></option>
													<option value="Slovensko" >Slovensko</option>
													<option value="Česká Republika">Česká republika</option>
												</select>
											</div>
										</div>


									</div>
								</div>
								<p class="card-text">
		              <label hidden>
		                <input type="radio" name="shipping_method" value="Kurier">
		                <img src="{% static './images/misc/123.png'%}"  height="26" alt="Slovenska Posta €5.90">
										Postovne Slovensko:<b>€4</b>, Česká Republika:<b>€6</b>
		              </label>
		            </p>
		            <p class="card-text">
		              <label>
		                <input type="radio" name="shipping_method" value="Dobierka" checked>
		                <img src="{% static './images/misc/123.png'%}" height="26" alt="Kurier DPD €6.00">
										Dobierka Slovensko:<b>€5.5</b>, Česká Republika:<b>€7.5</b>
		              </label>
		            </p>
								<div class="form-row">
									<label for="">Komentár</label>
									<textarea name="order_note" rows="2" class="form-control"></textarea>
								</div>

							</div>
					</div> <!-- card.// -->

			</aside> <!-- col.// -->
			<aside class="col-lg-6">

				<div class="card">
					<div class="card-body">
						<table class="table table-borderless table-shopping-cart">
							<thead class="text-muted">
								<tr class="small text-uppercase">
									<th scope="col">Výrobok</th>
									<th scope="col" width="120">Množstvo</th>
									<th scope="col" width="120">Cena</th>

								</tr>
							</thead>
							<tbody>
								{% for cart_item in cart_items%}
								<tr>
									<td>
										<figure class="itemside align-items-center">
											<div class="aside"><img src="{{cart_item.product.images.url}}" class="img-sm"></div>
											<figcaption class="info">
												<a href="{{ cart_item.product.get_url }}" class="title text-dark">{{cart_item.product.product_name}}</a>

											</figcaption>
										</figure>
									</td>
									<td>
										<label for="">{{cart_item.quantity}}</label>
									</td>
									<td>
										<div class="price-wrap">
											<var class="price">€{{cart_item.sub_total}}</var>
											<small class="text-muted"> €{{cart_item.product.price}} za kus </small>
										</div> <!-- price-wrap .// -->
									</td>
									<td class="text-right">

									</td>
								</tr>
								{%endfor%}

							</tbody>
						</table>
						<div class='form-row'>
							<div class="form-check mb-3">
								<input type="checkbox" onclick="" class="form-check-input" class="form-control" id="rules" name="rules" value="no" oninvalid="this.setCustomValidity('Začiarknite toto pole, ak chcete pokračovať')"
oninput="setCustomValidity('')" required>
								<label class="col-md-12 control-label" >Súhlasim s <a href="{%url 'rules'%}">obchodnými podmienkami</a></label>
							</div>
						</div>

						<button type="submit" name="submit" class="btn btn-dark btn-block"> Objednať </button>
						<a href="{% url 'store'%}" class="btn btn-light btn-block">Pokračovať v nákupe</a>
					</div> <!-- card-body.// -->

				</div> <!-- card.// -->

			</aside> <!-- col.// -->


		</div> <!-- row.// -->

		<!-- ============================ COMPONENT 1 END .// ================================= -->

	</div> <!-- container .//  -->
</section>

{%endblock%}
